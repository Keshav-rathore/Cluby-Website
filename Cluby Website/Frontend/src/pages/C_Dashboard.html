<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="/Frontend/public/Images/Cluby_Icon.png" type="image/x-icon">
  <title>Coordinator Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>

<body class="bg-gray-100 font-sans antialiased">

  <header class="bg-white shadow-md p-4 flex justify-between items-center">
    <div class="flex items-center">
      <img src="/Frontend/public/Images/Cluby_Icon.png" alt="Cluby Logo" class="h-10 w-10 mr-2">
      <h1 class="text-3xl font-bold text-gray-800">Cluby</h1>
    </div>
    <nav>
      <ul class="flex space-x-4">
        <li><a href="/Frontend/src/pages/C_Dashboard.html" class="text-blue-600 hover:text-blue-900">Home</a></li>
        <li><a href="/Frontend/src/pages/ClubList.html" class="text-blue-600 hover:text-blue-900">Find</a></li>
        <li><a href="/Frontend/src/pages/Recruit.html" class="text-blue-600 hover:text-blue-900">Recruit</a></li>
        <li><a href="/Frontend/src/pages/Community.html" class="text-blue-600 hover:text-blue-900">Community</a></li>
        <li><a href="/Frontend/src/pages/C_profile.html" class="flex items-center space-x-2 hover:text-blue-600">
            <i class="fa fa-user-circle text-2xl"></i>
          </a></li>
      </ul>
    </nav>
  </header>

  <!-- Main Content Area -->
  <main class="w-full p-6 space-y-6">
    <!-- Dashboard Overview -->
    <section id="dashboard" class="bg-white shadow-lg rounded-lg p-6">
      <h2 class="text-2xl  mb-4">Welcome to <span id="clubName">Sports Club </span>Dashboard</h2>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-20">
        <div class="p-4  bg-blue-100 rounded-lg shadow-md">
          <p class="text-2xl font-bold text-center" id="totalMembers">120</p>
          <h3 class="font-semibold text-center">Total Members</h3>
        </div>
        <div class="p-4 bg-green-100 rounded-lg shadow-md">
          <p class="text-2xl font-bold text-center" id="totalEvents">8</p>
          <h3 class="font-semibold text-center">Events</h3>
        </div>
        <div class="p-4 bg-yellow-100 rounded-lg shadow-md">
          <p class="text-2xl font-bold text-center" id="pendingRequests">5</p>
          <h3 class="font-semibold text-center">Pending Requests</h3>
        </div>
      </div>
    </section>

    <!-- Events Management Section -->
    <section id="events" class="bg-white shadow-lg rounded-lg p-6">
      <h2 class="text-xl font-semibold mb-4">Events Management</h2>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
        <div class="p-4 bg-white border rounded-lg shadow-md">
          <h3 class="font-semibold">Create Post</h3>
          <p class="text-gray-600">Plan and manage upcoming club events.</p>
          <button class="mt-3 px-4 py-2 bg-blue-600 text-white rounded" onclick="openCreateEventModal()">Create
            Event</button>
        </div>


        <div class="p-4 bg-white border rounded-lg shadow-md">
          <h3 class="font-semibold">View Posts</h3>
          <p class="text-gray-600">Check and edit upcoming and past events.</p>
          <button class="mt-3 px-4 py-2 bg-blue-600 text-white rounded"
            onclick="window.location.href='Eventlist.html'">Manage Post</button>
        </div>
      </div>

      <!-- Create Event Modal -->
      <div id="createEventModal" class="hidden fixed inset-0 justify-center items-center bg-gray-800 bg-opacity-50">
        <div class="bg-white p-6 rounded-lg w-full max-w-md">
          <h2 class="text-xl font-bold mb-4">Create Event</h2>
          <form id="createEventForm">
            <div class="mb-4">
              <label for="eventName" class="block font-semibold">Event Name</label>
              <input type="text" id="eventName" class="w-full border rounded p-2" required>
            </div>
            <div class="mb-4">
              <label for="eventDescription" class="block font-semibold">Description</label>
              <textarea id="eventDescription" class="w-full border rounded p-2" required></textarea>
            </div>
            <div class="mb-4">
              <label for="eventDate" class="block font-semibold">Date</label>
              <input type="date" id="eventDate" class="w-full border rounded p-2" required>
            </div>
            <div class="mb-4">
              <label for="eventTime" class="block font-semibold">Time</label>
              <input type="time" id="eventTime" class="w-full border rounded p-2" required>
            </div>
            <div class="mb-4">
              <label for="eventVenue" class="block font-semibold">Venue</label>
              <input type="text" id="eventVenue" class="w-full border rounded p-2" required>
            </div>
            <div class="flex justify-end space-x-4">
              <button type="button" class="px-4 py-2 bg-gray-400 text-white rounded"
                onclick="closeModal('createEventModal')">Cancel</button>
              <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded">Create</button>
            </div>
          </form>
        </div>
      </div>

    </section>

    <!-- Recruitment Section -->
    <section id="recruitment" class="bg-white shadow-lg rounded-lg p-6">
      <h2 class="text-xl font-semibold mb-4">Recruitment</h2>
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
        <div class="p-4 bg-white border rounded-lg shadow-md">
          <h3 class="font-semibold">Open Positions</h3>
          <p class="text-gray-600">Post new recruitment openings for your club.</p>
          <button class="mt-3 px-4 py-2 bg-blue-600 text-white rounded" onclick="openCreatePositionModal()">Create
            Position</button>
        </div>
        <div class="p-4 bg-white border rounded-lg shadow-md">
          <h3 class="font-semibold">Manage Applications</h3>
          <p class="text-gray-600">Review and approve/reject student applications.</p>
          <button class="mt-3 px-4 py-2 bg-blue-600 text-white rounded" onclick="window.location.href='applicationlist.html'">View
            Applications</button>
        </div>
      </div>
    </section>

    <!-- Modal to create a new vacancy -->
    <div id="createPositionModal" class="hidden fixed inset-0 justify-center items-center bg-gray-800 bg-opacity-50">
      <div class="bg-white p-6 rounded-lg w-full max-w-md">
        <h2 class="text-xl font-bold mb-4">Create New Vacancy</h2>
        <form id="createPositionForm" onsubmit="event.preventDefault(); createPosition();">
          <!-- Position Name -->
          <div class="mb-4">
            <label for="positionName" class="block font-semibold">Position Name</label>
            <input type="text" id="positionName" class="w-full border rounded p-2"
              placeholder="Enter position title (e.g., Web Developer)" required>
          </div>

          <!-- Job Description -->
          <div class="mb-4">
            <label for="jobDescription" class="block font-semibold">Job Description</label>
            <textarea id="jobDescription" class="w-full border rounded p-2" rows="4"
              placeholder="Enter job details and responsibilities" required></textarea>
          </div>

          <!-- Deadline -->
          <div class="mb-4">
            <label for="deadline" class="block font-semibold">Deadline</label>
            <input type="date" id="deadline" class="w-full border rounded p-2" required>
          </div>

          <!-- Apply Button -->
          <div class="flex justify-end space-x-4">
            <button type="button" class="px-4 py-2 bg-gray-400 text-white rounded"
              onclick="closeCreatePositionModal()">Cancel</button>
            <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded">Create Vacancy</button>
          </div>
        </form>
      </div>
    </div>



    <!-- Membership Requests Section -->
    <section id="membership" class="bg-white shadow-lg rounded-lg p-6">
      <h2 class="text-xl font-semibold mb-4">Membership Requests</h2>
      <div class="p-4 bg-white border rounded-lg shadow-md">
        <h3 class="font-semibold">Pending Requests</h3>
        <p class="text-gray-600">Approve or reject students requesting to join.</p>
        <button class="mt-3 px-4 py-2 bg-blue-600 text-white rounded" onclick="window.location.href='requestlist.html'">Manage
          Requests</button>
      </div>
    </section>

    <!-- Analytics Section -->
    <section id="analytics" class="bg-white shadow-lg rounded-lg p-6">
      <h2 class="text-xl font-semibold mb-4">Analytics</h2>
      <div class="p-4 bg-white border rounded-lg shadow-md">
        <h3 class="font-semibold">Engagement Overview</h3>
        <p class="text-gray-600">View analytics on member engagement, event attendance, and more.</p>
        <button class="mt-3 px-4 py-2 bg-blue-600 text-white rounded" onclick="viewAnalytics()">View Analytics</button>
      </div>
    </section>
  </main>
  </div>

  <script>

    // Function to open the modal when "Create Position" button is clicked
    function openCreatePositionModal() {
      const modal = document.getElementById("createPositionModal");
      modal.classList.remove("hidden");
      modal.classList.add("flex");
    }

    // Function to close the modal (after canceling or submitting)
    function closeCreatePositionModal() {
      const modal = document.getElementById("createPositionModal");
      modal.classList.add("hidden");
    }

    // Function to create a new vacancy (similar to creating an event)
    function createPosition() {
      // Get input values from the modal form
      const positionName = document.getElementById("positionName").value;
      const jobDescription = document.getElementById("jobDescription").value;
      const deadline = document.getElementById("deadline").value;

      // Validate the form data
      if (!positionName || !jobDescription || !deadline) {
        alert("Please fill in all fields.");
        return;
      }

      // Create the new position object
      const newPosition = {
        positionName: positionName,
        jobDescription: jobDescription,
        deadline: deadline,
        createdAt: new Date().toISOString(), // Store creation date
      };

      // Save the new position to local storage (or send it to a backend API)
      let positions = JSON.parse(localStorage.getItem("positions")) || [];
      positions.push(newPosition);
      localStorage.setItem("positions", JSON.stringify(positions));

      // Close the modal after saving
      closeCreatePositionModal();

      // Give feedback to the user
      alert("Vacancy created successfully!");


    }


    // Retrieve events from local storage
    function getEvents() {
      return JSON.parse(localStorage.getItem('events')) || [];
    }

    // Save events to local storage
    function saveEvents(events) {
      localStorage.setItem('events', JSON.stringify(events));
    }

    // Open and close modals
    function openModal(modalId) {
      document.getElementById(modalId).classList.remove('hidden');
    }
    function closeModal(modalId) {
      document.getElementById(modalId).classList.add('hidden');
    }



    // Function to open the modal
    function openCreateEventModal() {
      const createEventModal = document.getElementById("createEventModal");
      if (createEventModal) {
        createEventModal.classList.remove("hidden"); // Show the modal
        createEventModal.classList.add("flex"); // Add flex class for centering
      } else {
        console.error("Create Event Modal element not found!");
      }
    }


    // Create a new event
    document.getElementById("createEventForm").addEventListener("submit", function (e) {
      e.preventDefault(); // Prevent form from reloading the page

      // Collect form data
      const eventName = document.getElementById("eventName").value;
      const eventDescription = document.getElementById("eventDescription").value;
      const eventDate = document.getElementById("eventDate").value;
      const eventTime = document.getElementById("eventTime").value;
      const eventVenue = document.getElementById("eventVenue").value;

      // Create event object
      const newEvent = {
        id: Date.now().toString(), // Unique event ID
        name: eventName,
        description: eventDescription,
        date: eventDate,
        time: eventTime,
        venue: eventVenue,
      };

      // Save to local storage (or send to server via API)
      const events = JSON.parse(localStorage.getItem("events")) || [];
      events.push(newEvent);
      localStorage.setItem("events", JSON.stringify(events));

      // Reset form
      e.target.reset();

      // Close modal
      closeModal("createEventModal");

    });


  </script>

</body>

</html>